(function(i,c){typeof exports=="object"&&typeof module<"u"?module.exports=c():typeof define=="function"&&define.amd?define(c):(i=typeof globalThis<"u"?globalThis:i||self,i["local-average"]=c())})(this,function(){"use strict";function i(e){return u(e.map(t=>Math.abs(t-u(e))))}function c(e){return Math.sqrt(l(e))}function a(e){return e.reduce((t,n)=>t+n,0)/e.length}function s(e){return e.reduce((t,n)=>t*n,1)**(1/e.length)}function l(e){return e.map(t=>Math.pow(t-a(e),2)).reduce((t,n)=>t+n,0)/e.length}function h(e){return e.length/e.reduce((t,n)=>t+1/n,0)}function u(e){const t=[...e].sort((r,o)=>r-o),n=Math.floor(e.length/2);return e.length%2===0?(t[n-1]+t[n])/2:t[n]}function g(e){const t=Object.create(null);let n=0,r=[];e.forEach(o=>{t[o]?t[o]++:t[o]=1,t[o]>n&&(n=t[o])});for(const o in t)t[o]===n&&r.push(Number(o));return a(r)}const d=Object.freeze(Object.defineProperty({__proto__:null,arithmetic:a,geometric:s,harmonic:h,median:u,medianAbsoluteDeviation:i,mode:g,standardDeviation:c,variance:l},Symbol.toStringTag,{value:"Module"}));function p(e,{sampleSize:t=10}={}){let n=localStorage.getItem(e);n=n?JSON.parse(n).slice(-(t-1)):[];function r(f){n.push(f),localStorage.setItem(e,JSON.stringify(n))}function o(f="arithmetic"){if(!(f in d))throw new ReferenceError(`The "${f}" method is not supported.`);return d[f](n)}return[o,r]}return p});
